% Advent of Code 2019. 
% Day 1: The Tyranny of the Rocket Equation. 
% Part B.
% gs -DNOSAFER aoc01b.ps

/map { [ 3 1 roll forall ] } def

/fold { 3 1 roll exch 3 -1 roll forall } def 

/sum { 0 { add } fold } def 

/fuel { 3 idiv 2 sub } def

/gen { { fuel dup 0 le { pop exit } if dup } loop } def 

/zeno { [ exch gen ] sum } def

[ (input) run ] { zeno } map sum
