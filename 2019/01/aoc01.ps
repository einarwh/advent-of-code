% Advent of Code 2019. 
% Day 1: The Tyranny of the Rocket Equation. 
% gs -DNOSAFER aoc01.ps

/map { [ 3 1 roll forall ] } def

/fold { 3 1 roll exch 3 -1 roll forall } def 

/sum { 0 { add } fold } def 

/fuel { 3 idiv 2 sub } def

/gen { { fuel dup 0 le { pop exit } if dup } loop } def 

/zeno { [ exch gen ] sum } def

/part-1 {
    [ (input.txt) run ] { 3 idiv 2 sub } map sum
} def 

/part-2 {
[ (input.txt) run ] { zeno } map sum
} def 

part-1
part-2


